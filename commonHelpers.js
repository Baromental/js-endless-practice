var L=Object.defineProperty;var S=(t,e,i)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var d=(t,e,i)=>(S(t,typeof e!="symbol"?e+"":e,i),i);import{a as b,i as u,S as w}from"./assets/vendor-a51f3d43.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();const q="42006022-41a20d969efbb704c546dcbcd",l=class l{constructor(){this.query="",this.page=1,this.pageSize=16,this.totalResults=0}async getPhotos(e=this.query){e&&(this.query=e);const i=new URLSearchParams({key:q,q:this.query,image_type:"photo",orientation:"horizontal",page:this.page,per_page:this.pageSize}),a=`${l.BASE_URL}${l.END_POINT}?${i}`;return(await b(a)).data}};d(l,"BASE_URL","https://pixabay.com"),d(l,"END_POINT","/api");let p=l;function P({webformatURL:t,largeImageURL:e,tags:i,likes:a,views:o,comments:r,downloads:c}){return`<li class="gallery-item">
      <a class="gallery-link" href=${e}>
        <img src=${t} alt="${i}" /></a>
        <ul class="image-desc">
            <li class="image-desc-item"><p>Likes</p><p>${a}</p></li>
            <li class="image-desc-item"><p>Views</p><p>${o}</p></li>
            <li class="image-desc-item"><p>Comments</p><p>${r}</p></li>
            <li class="image-desc-item"><p>Downloads</p><p>${c}</p></li>
        </ul>
    </li>`}function g(t){return t.map(P).join("")}const s={form:document.querySelector(".form"),gallery:document.querySelector(".gallery"),loadingIndicator:document.querySelector(".loader"),loadBtn:document.querySelector(".load-btn")},n=new p;s.form.addEventListener("submit",B);s.loadBtn.addEventListener("click",R);function B(t){t.preventDefault();const e=t.target.elements.search.value;if(e.trim()===""){u.show({message:"Please enter a search term!",position:"topRight",timeout:3e3});return}s.gallery.innerHTML="",n.page=1,f(),n.getPhotos(e).then(i=>{if(s.gallery.innerHTML="",i.hits.length===0)m(),u.show({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",timeout:3e3});else{m();const a=g(i.hits);s.gallery.innerHTML=a,n.totalResults=i.totalHits,h(),y.refresh()}})}async function R(){n.page+=1,f();try{const t=await n.getPhotos(),e=g(t.hits);s.gallery.insertAdjacentHTML("beforeend",e),y.refresh(),h(),$()}catch(t){console.error("Error loading more photos:",t),u.error({message:"Failed to load more images. Please try again later.",position:"topRight"})}finally{m()}}function h(){n.page*n.pageSize>=n.totalResults?T():v()}function $(){const t=document.querySelector(".gallery-item");if(t){const e=t.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}}function f(){s.loadingIndicator.classList.remove("hidden")}function m(){s.loadingIndicator.classList.add("hidden")}function v(){s.loadBtn.classList.remove("hidden")}function T(){s.loadBtn.classList.add("hidden")}const y=new w(".gallery-item a",{captions:!0,captionsData:"alt",captionPosition:"bottom",captionDelay:250});
//# sourceMappingURL=commonHelpers.js.map
