{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\n\nconst formData = {\n    email: '',\n    message: '',\n}\n\nconst form = document.querySelector('.feedback-form')\n\nform.addEventListener('input', onInputChange);\n\nfunction onInputChange(){\n    formData.email = form.elements.email.value;\n    formData.message = form.elements.message.value;\n\n    saveToLocalStorage(STORAGE_KEY, formData)\n}\n\nform.addEventListener('submit', onSubmit)\n\nfunction onSubmit(e){\n    e.preventDefault();\n\n    console.log(formData);\n\n    localStorage.removeItem(STORAGE_KEY);\n\n    form.reset();\n}\n\nfunction saveToLocalStorage(key, value){\n    const data = JSON.stringify(value);\n    localStorage.setItem(key, data);\n}\n\nfunction loadFromLocalStorage(key){\n    const jsonData = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(jsonData);\n        return data;\n    } catch (error) {\n        return jsonData;\n    }\n}\n\nfunction restoreInputData(){\n    const data = loadFromLocalStorage(STORAGE_KEY) || {};\n    form.elements.email.value = data.email;\n    form.elements.message.value = data.message;\n}\n\nrestoreInputData()"],"names":["STORAGE_KEY","formData","form","onInputChange","saveToLocalStorage","onSubmit","key","value","data","loadFromLocalStorage","jsonData","restoreInputData"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAa,EAE5C,SAASA,GAAe,CACpBF,EAAS,MAAQC,EAAK,SAAS,MAAM,MACrCD,EAAS,QAAUC,EAAK,SAAS,QAAQ,MAEzCE,EAAmBJ,EAAaC,CAAQ,CAC5C,CAEAC,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAAS,EAAE,CAChB,EAAE,eAAc,EAEhB,QAAQ,IAAIJ,CAAQ,EAEpB,aAAa,WAAWD,CAAW,EAEnCE,EAAK,MAAK,CACd,CAEA,SAASE,EAAmBE,EAAKC,EAAM,CACnC,MAAMC,EAAO,KAAK,UAAUD,CAAK,EACjC,aAAa,QAAQD,EAAKE,CAAI,CAClC,CAEA,SAASC,EAAqBH,EAAI,CAC9B,MAAMI,EAAW,aAAa,QAAQJ,CAAG,EACzC,GAAI,CAEA,OADa,KAAK,MAAMI,CAAQ,CAEnC,MAAe,CACZ,OAAOA,CACV,CACL,CAEA,SAASC,GAAkB,CACvB,MAAMH,EAAOC,EAAqBT,CAAW,GAAK,CAAA,EAClDE,EAAK,SAAS,MAAM,MAAQM,EAAK,MACjCN,EAAK,SAAS,QAAQ,MAAQM,EAAK,OACvC,CAEAG,EAAgB"}